<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 6 页 | 桂庆的个人主页</title>
  <meta name="author" content="桂庆">
  
  <meta name="description" content="桂庆的个人主页 记录自己的学习 工作 感悟">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="桂庆的个人主页"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="桂庆的个人主页" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">桂庆的个人主页</a></h1>
  <h2><a href="/">记录自己的学习 工作 感悟</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">主页</a></li>
    
      <li><a href="/about">关于我</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-04-12T12:11:09.000Z"><a href="/2015/04/12/iOS Tips/25条提升iOS-App性能的建议/">2015-04-12</a></time>
      
      
  
    <h1 class="title"><a href="/2015/04/12/iOS Tips/25条提升iOS-App性能的建议/">25条提升iOS App性能的建议-iOS 方法论</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="25条提高_iOS_App_性能的建议">25条提高 iOS App 性能的建议</h2><p>性能关系到用户体验,所以它对于我们的开发来说是至关重要的.  </p>
<h3 id="特别注意:">特别注意:</h3><p>在优化代码之后,必须保证有个需要解决的问题!不要陷入”pre-optimizing(预优化)”你的代码.用Instruments分析你的代码,来发现需要提高的地方.</p>
<p>下面是一些值得预先考虑的地方,分为三个不同的级别-基础,中级,高级<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2015/04/12/iOS Tips/25条提升iOS-App性能的建议/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

<!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="page/6/index.html" data-title="undefined" data-url="undefined"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"guiqingblog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-04-10T01:32:52.000Z"><a href="/2015/04/10/Core Aniamtion深入探讨/1-图层树/图层树/">2015-04-10</a></time>
      
      
  
    <h1 class="title"><a href="/2015/04/10/Core Aniamtion深入探讨/1-图层树/图层树/">1-图层树</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="图层的树状结构">图层的树状结构</h1><blockquote>
<p>巨妖有图层，洋葱也有图层，你有吗？我们都有图层 — 史莱克</p>
</blockquote>
<p>Core Animation其实是一个令人误解的命名。你可能认为它只是用来做动画的，但实际上它是从一个叫做<em>Layer Kit</em>这么一个不怎么和动画有关的名字演变而来，所以做动画这只是Core Animation特性的冰山一角。</p>
<p>Core Animation是一个<em>复合引擎</em>，它的职责就是尽可能快地组合屏幕上不同的可视内容，这个内容是被分解成独立的<em>图层</em>，存储在一个叫做<em>图层树</em>的体系之中。于是这个树形成了<strong>UIKit</strong>以及在iOS应用程序当中你所能在屏幕上看见的一切的基础。</p>
<p>在我们讨论动画之前，我们将从图层树开始，涉及一下Core Animation的<em>静态</em>组合以及布局特性。</p>
<h2 id="图层和视图">图层和视图</h2><p>如果你曾经在iOS或者Mac OS平台上写过应用程序，你可能会对<em>视图</em>的概念比较熟悉。一个视图就是在屏幕上显示的一个矩形块（比如图片，文字或者视频），它能够拦截类似于鼠标点击或者触摸手势等用户输入。视图在层级关系中可以互相嵌套，一个视图可以管理它的所有子视图的位置。图1.1显示了一种典型的视图层级关系</p>
<p><img src="http://i1.tietuku.com/4e10cb41262a875d.jpg" alt="图1.1" title="图1.1" width="700"></p>
<p>图1.1 一种典型的iOS屏幕（左边）和形成视图的层级关系（右边）</p>
<p>在iOS当中，所有的视图都从一个叫做<code>UIVIew</code>的基类派生而来，<code>UIView</code>可以处理触摸事件，可以支持基于<em>Core Graphics</em>绘图，可以做仿射变换（例如旋转或者缩放），或者简单的类似于滑动或者渐变的动画。</p>
<h3 id="CALayer">CALayer</h3><p><code>CALayer</code>类在概念上和<code>UIView</code>类似，同样也是一些被层级关系树管理的矩形块，同样也可以包含一些内容（像图片，文本或者背景色），管理子图层的位置。它们有一些方法和属性用来做动画和变换。和<code>UIView</code>最大的不同是<code>CALayer</code>不处理用户的交互。</p>
<p><code>CALayer</code>并不清楚具体的<em>响应链</em>（iOS通过视图层级关系用来传送触摸事件的机制），于是它并不能够响应事件，即使它提供了一些方法来判断是否一个触点在图层的范围之内（具体见第三章，“图层的几何学”）</p>
<h3 id="平行的层级关系">平行的层级关系</h3><p>每一个<code>UIview</code>都有一个<code>CALayer</code>实例的图层属性，也就是所谓的<em>backing layer</em>，视图的职责就是创建并管理这个图层，以确保当子视图在层级关系中添加或者被移除的时候，他们关联的图层也同样对应在层级关系树当中有相同的操作（见图1.2）。</p>
<p><img src="http://i1.tietuku.com/6ff9142f9f719c1b.jpg" alt="图1.2" title="图1.2" width="700"></p>
<p>图1.2 图层的树状结构（左边）以及对应的视图层级（右边）</p>
<p>实际上这些背后关联的图层才是真正用来在屏幕上显示和做动画，<code>UIView</code>仅仅是对它的一个封装，提供了一些iOS类似于处理触摸的具体功能，以及Core Animation底层方法的高级接口。</p>
<p>但是为什么iOS要基于<code>UIView</code>和<code>CALayer</code>提供两个平行的层级关系呢？为什么不用一个简单的层级来处理所有事情呢？原因在于要做职责分离，这样也能避免很多重复代码。在iOS和Mac OS两个平台上，事件和用户交互有很多地方的不同，基于多点触控的用户界面和基于鼠标键盘有着本质的区别，这就是为什么iOS有UIKit和<code>UIView</code>，但是Mac OS有AppKit和<code>NSView</code>的原因。他们功能上很相似，但是在实现上有着显著的区别。</p>
<p>绘图，布局和动画，相比之下就是类似Mac笔记本和桌面系列一样应用于iPhone和iPad触屏的概念。把这种功能的逻辑分开并应用到独立的Core Animation框架，苹果就能够在iOS和Mac OS之间共享代码，使得对苹果自己的OS开发团队和第三方开发者去开发两个平台的应用更加便捷。</p>
<p>实际上，这里并不是两个层级关系，而是四个，每一个都扮演不同的角色，除了视图层级和图层树之外，还存在<em>呈现树</em>和<em>渲染树</em>，将在第七章“隐式动画”和第十二章“性能调优”分别讨论。</p>
<h2 id="图层的能力">图层的能力</h2><p>如果说<code>CALayer</code>是<code>UIView</code>内部实现细节，那我们为什么要全面地了解它呢？苹果当然为我们提供了优美简洁的<code>UIView</code>接口，那么我们是否就没必要直接去处理Core Animation的细节了呢？</p>
<p>某种意义上说的确是这样，对一些简单的需求来说，我们确实没必要处理<code>CALayer</code>，因为苹果已经通过<code>UIView</code>的高级API间接地使得动画变得很简单。</p>
<p>但是这种简单会不可避免地带来一些灵活上的缺陷。如果你略微想在底层做一些改变，或者使用一些苹果没有在<code>UIView</code>上实现的接口功能，这时除了介入Core Animation底层之外别无选择。</p>
<p>我们已经证实了图层不能像视图那样处理触摸事件，那么他能做哪些视图不能做的呢？这里有一些<code>UIView</code>没有暴露出来的CALayer的功能：</p>
<ul>
<li>阴影，圆角，带颜色的边框</li>
<li>3D变换</li>
<li>非矩形范围</li>
<li>透明遮罩</li>
<li>多级非线性动画</li>
</ul>
<p>我们将会在后续章节中探索这些功能，首先我们要关注一下在应用程序当中<code>CALayer</code>是怎样被利用起来的。</p>
<h2 id="使用图层">使用图层</h2><p>首先我们来创建一个简单的项目，来操纵一些<code>layer</code>的属性。打开Xcode，使用<em>Single View Application</em>模板创建一个工程。</p>
<p>在屏幕中央创建一个小视图（大约200 X 200的尺寸），当然你可以手工编码，或者使用Interface Builder（随你方便）。确保你的视图控制器要添加一个视图的属性以便可以直接访问它。我们把它称作<code>layerView</code>。</p>
<p>运行项目，应该能在浅灰色屏幕背景中看见一个白色方块（图1.3），如果没看见，可能需要调整一下背景window或者view的颜色</p>
<p><img src="http://i1.tietuku.com/eafe78e838c105ec.jpg" alt="图1.3" title="图1.3" width="700"></p>
<p>图1.3 灰色背景上的一个白色<code>UIView</code></p>
<p>这并没有什么令人激动的地方，我们来添加一个色块，在白色方块中间添加一个小的蓝色块。</p>
<p>我们当然可以简单地在已经存在的<code>UIView</code>上添加一个子视图（随意用代码或者IB），但这不能真正学到任何关于图层的东西。</p>
<p>于是我们来创建一个<code>CALayer</code>，并且把它作为我们视图相关图层的子图层。尽管<code>UIView</code>类的接口中暴露了图层属性，但是标准的Xcode项目模板并没有包含Core Animation相关头文件。所以如果我们不给项目添加合适的库，是不能够使用任何图层相关的方法或者访问它的属性。所以首先需要添加QuartzCore框架到Build Phases标签（图1.4），然后在vc的.m文件中引入<quartzcore quartzcore.h="">库。</quartzcore></p>
<p><img src="http://i1.tietuku.com/9c39ea64534a6194.jpg" alt="图1.4" title="图1.4" width="700"></p>
<p>图1.4 把QuartzCore库添加到项目</p>
<p>之后就可以在代码中直接引用<code>CALayer</code>的属性和方法。在清单1.1中，我们用创建了一个<code>CALayer</code>，设置了它的<code>backgroundColor</code>属性，然后添加到<code>layerView</code>背后相关图层的子图层（这段代码的前提是通过IB创建了<code>layerView</code>并做好了连接），图1.5显示了结果。</p>
<p>清单1.1 给视图添加一个蓝色子图层</p>
<pre><code class="objective-c">#import &#34;ViewController.h&#34;&#10;#import &#60;QuartzCore/QuartzCore.h&#62;&#10;@interface ViewController ()&#10;&#10;@property (nonatomic, weak) IBOutlet UIView *layerView;&#10;&#65532;&#10;@end&#10;&#10;@implementation ViewController&#10;&#10;- (void)viewDidLoad&#10;{&#10;    [super viewDidLoad];&#10;    //create sublayer&#10;    CALayer *blueLayer = [CALayer layer];&#10;    blueLayer.frame = CGRectMake(50.0f, 50.0f, 100.0f, 100.0f);&#10;    blueLayer.backgroundColor = [UIColor blueColor].CGColor;&#10;    //add it to our view&#10;    [self.layerView.layer addSublayer:blueLayer];&#10;}&#10;@end
</code></pre>
<p><img src="http://i1.tietuku.com/4139cf5222c31853.jpg" alt="图1.5" title="图1.5" width="700"></p>
<p>图1.5 白色<code>UIView</code>内部嵌套的蓝色<code>CALayer</code></p>
<p>一个视图只有一个相关联的图层（自动创建），同时它也可以支持添加无数多个子图层，从清单1.1可以看出，你可以显示创建一个单独的图层，并且把它直接添加到视图关联图层的子图层。尽管可以这样添加图层，但往往我们只是见简单地处理视图，他们关联的图层并不需要额外地手动添加子图层。</p>
<p>在Mac OS平台，10.8版本之前，一个显著的性能缺陷就是由于用了视图层级而不是单独在一个视图内使用<code>CALayer</code>树状层级。但是在iOS平台，使用轻量级的<code>UIView</code>类并没有显著的性能影响（当然在Mac OS 10.8之后，<code>NSView</code>的性能同样也得到很大程度的提高）。</p>
<p>使用图层关联的视图而不是<code>CALayer</code>的好处在于，你能在使用所有<code>CALayer</code>底层特性的同时，也可以使用<code>UIView</code>的高级API（比如自动排版，布局和事件处理）。</p>
<p>然而，当满足以下条件的时候，你可能更需要使用<code>CALayer</code>而不是<code>UIView</code></p>
<ul>
<li>开发同时可以在Mac OS上运行的跨平台应用</li>
<li>使用多种<code>CALayer</code>的子类（见第六章，“特殊的图层“），并且不想创建额外的<code>UIView</code>去包封装它们所有</li>
<li>做一些对性能特别挑剔的工作，比如对<code>UIView</code>一些可忽略不计的操作都会引起显著的不同（尽管如此，你可能会直接想使用OpenGL绘图）</li>
</ul>
<p>但是这些例子都很少见，总的来说，处理视图会比单独处理图层更加方便。</p>
<h2 id="总结">总结</h2><p>这一章阐述了图层的树状结构，说明了如何在iOS中由<code>UIView</code>的层级关系形成的一种平行的<code>CALayer</code>层级关系，在后面的实验中，我们创建了自己的<code>CALayer</code>，并把它添加到图层树中。</p>
<p>在第二章，“图层关联的图片”，我们将要研究一下<code>CALayer</code>关联的图片，以及Core Animation提供的操作显示的一些特性。</p>
<p><strong>来源网址:[<a href="https://github.com/AttackOnDobby/iOS-Core-Animation-Advanced-Techniques](" target="_blank" rel="external">https://github.com/AttackOnDobby/iOS-Core-Animation-Advanced-Techniques](</a></strong>来源网址:<a href="https://github.com/AttackOnDobby/iOS-Core-Animation-Advanced-Techniques__)__" target="_blank" rel="external">https://github.com/AttackOnDobby/iOS-Core-Animation-Advanced-Techniques__)__</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

<!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="page/6/index.html" data-title="undefined" data-url="undefined"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"guiqingblog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-04-05T00:44:28.000Z"><a href="/2015/04/05/开发环境相关/基本配置/">2015-04-05</a></time>
      
      
  
    <h1 class="title"><a href="/2015/04/05/开发环境相关/基本配置/">基本配置</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="mac_配置">mac 配置</h3><ul>
<li>显示隐藏文件</li>
</ul>
<p><code>defaults write com.apple.finder AppleShowAllFiles -bool true</code></p>
<ul>
<li>重启Finder</li>
</ul>
<p><code>killall -KILL Finder</code></p>
<h3 id="Xcode">Xcode</h3><ul>
<li>插件目录 (需要运行任意一个插件工程,此目录才会出现)</li>
</ul>
<p><code>~/Library/Application\ Support/Developer/Shared/Xcode/Plug-ins</code></p>
<ul>
<li>工程模板目录</li>
</ul>
<p><code>/Applications/Xcode-Beta.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/Xcode/Templates/Project\ Templates/iOS/Application</code></p>
<ul>
<li>模拟器路径</li>
</ul>
<p><code>/Users/yourUserName/ Library/Developer/CoreSimulator</code></p>
<ul>
<li>显示行号</li>
</ul>
<p><code>xcode-&gt;preferences-&gt;text editing-&gt;editing</code><br>选中 <code>show line numbers</code></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

<!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="page/6/index.html" data-title="undefined" data-url="undefined"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"guiqingblog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-04-04T03:03:06.000Z"><a href="/2015/04/04/辅助编程技能/提升效率的脚本/">2015-04-04</a></time>
      
      
  
    <h1 class="title"><a href="/2015/04/04/辅助编程技能/提升效率的脚本/">iOS开发中,用脚本实现给文件添加@xx后缀-小脚本大智慧</a></h1>
  

    </header>
    <div class="entry">
      
        <p><em>脚本是用于执行一些重复性的操作,非常小巧方便.不需要创建工程</em></p>
<h1 id="context">context</h1><p>自己最近手头有个项目,对方的美工是个完全的新手.所以,给的图片,虽然按照分辨率处理妥当(只有<code>@2x</code>版本),但是命名统一没有添加<code>@2x</code>,已经发过来了,让她去每个文件重新命名也是有点不近人情,自己去手动重命名更是傻瓜行为.  </p>
<p>这种情况,脚本要粉末登场了.<br>\&lt;!—more—>  </p>
<h2 id="shell">shell</h2><p>首先想到的是类<code>unix</code>系统的<code>shell</code>,这种强大于<code>windows</code>下<code>cmd</code>的存在.以前,自己仅仅会一些简单地命令行命令.写这种相对具有一定功能的脚本还是第一次,好在,经过各种查找资料,终于写了出来.  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`# !/bin/bash&#10;append=&#34;@2x&#34;&#10;ext=&#34;png&#34;&#10;dir=$(eval pwd)&#10;&#10;for file in $(ls $dir | grep .$oldext)&#10;do&#10;name=$(ls $file | cut -d. -f1)$append&#10;mv $file $&#123;name&#125;.$ext&#10;done</span><br></pre></td></tr></table></figure>
<p>`<br>可以看出,即使没有可以精简,只需要不到10行代码即可完成任务.</p>
<h2 id="python">python</h2><p>既然想到了脚本,自己难以抑制的就取想<code>python</code>了,于是有了下面的代码  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`import os&#10;&#10;path = &#39;.&#39;&#10;&#10;for file in os.listdir(os.curdir):&#10;f,ext=os.path.splitext(file)&#10;if &#39;.png&#39;==ext :&#10;newfile = f+&#39;@2x&#39;+ext&#10;print newfile&#10;os.renames(file,newfile)</span><br></pre></td></tr></table></figure>
<p>`  </p>
<p>不出所料,也是非常简单的.  </p>
<h2 id="更进一步">更进一步</h2><p>现在两者实现的功能都是非常简单地,而且只能命名当前目录的<code>png</code>后缀的文件.最终,我选择用<code>python</code>代码更进一步.  </p>
<p>定义两个函数,一个递归增加后缀,一个递归删除后缀(python版本是2.7.9),具体什么操作,只要后面调用一下即可.  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`__author__ = &#39;katsura&#39;  &#10;  &#10;import os  &#10;  &#10;def add_suffix(suffix) :  &#10;    for file in os.listdir(os.path.curdir) :  &#10;        print file  &#10;        if file[0:1]() == &#39;.&#39; :  &#10;            continue  &#10;        filename,ext = os.path.splitext(file)  &#10;        if &#39;.png&#39; == ext :  &#10;            newfilename =  filename+suffix+ext  &#10;            os.renames(file,newfilename)  &#10;        if os.path.isdir(file) :  &#10;            origindir = os.getcwd()  &#10;            newdir = file  &#10;            os.chdir(newdir)  &#10;            add_suffix(suffix)  &#10;            os.chdir(origindir)  &#10;  &#10;def remove_suffix(suffix) :  &#10;    for file in os.listdir(os.path.curdir) :  &#10;        #print file  &#10;        if file[0:1]() == &#39;.&#39; :  &#10;            continue  &#10;        filename,ext = os.path.splitext(file)  &#10;        if &#39;.png&#39; == ext :  &#10;            newfilename =  filename.rstrip(suffix)+ext  &#10;            os.renames(file,newfilename)  &#10;        if os.path.isdir(file) :  &#10;            origindir = os.getcwd()  &#10;            newdir = file  &#10;            os.chdir(newdir)  &#10;            remove_suffix(suffix)  &#10;            os.chdir(origindir)  &#10;  &#10;  &#10;add_suffix(&#39;@2x&#39;)</span><br></pre></td></tr></table></figure>
<p>`  </p>
<h2 id="感想">感想</h2><p>语言就应该仅仅是工具,不应该执迷于语言的学习.因为当你有一定的经验之后,你会发现,什么语言都很简单… 难点是深入下去  </p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

<!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="page/6/index.html" data-title="undefined" data-url="undefined"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"guiqingblog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-03-17T03:05:40.000Z"><a href="/2015/03/17/辅助编程技能/开始使用正则表达式/">2015-03-17</a></time>
      
      
  
    <h1 class="title"><a href="/2015/03/17/辅助编程技能/开始使用正则表达式/">开始使用正则表达式-正则表达式</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="一些细节的完善">一些细节的完善</h2><p>在<a href="">上篇文章</a>中,我们简单使用了一个正则完成了一些东西,但是也发现了一些问题.那个在线工具并不怎么好用…<br>经常遇到输入之后,没有匹配.<br>这也是 web 程序经常遇到的尴尬.所以,我们使用本地应用来进行处理.<br>笔者的是 mac10.10 ,使用的工具叫做 RegExRx .大家可以选择一款合适的使用.( windows 下的正则程序更加多,功能也很强大)</p>
<h2 id="开始正则之旅">开始正则之旅</h2><p>明确了正则的用途之后,我们开始使用正则表达式.还是从一些实际案例出发,我很讨厌一开始就摆上 N 多得概念, 列举出 N 多得符号,根本不让人好好阅读嘛!  </p>
<h3 id="符号的延伸">符号的延伸</h3><p>上次我们使用了匹配数字的符号<code>\d</code>,这个是表示数字的意思,但是它只能表示一位数字,于是,我又使用了<code>{m,n}</code>这个符号.  </p>
<p><code>\d</code>还有一种表示方法就是 <code>[0-9]</code> ,<code>[]</code>是字符串列举的意思.<br>比如<code>[abc]</code>表示匹配<code>a</code>或者<code>b</code>或者<code>c</code>,和<code>\d</code>一样,它只能匹配一个.  </p>
<h3 id="常用模式的列举:">常用模式的列举:</h3><p><code>[0-9]</code> :表示数字 等价于 <code>\d</code></p>
<p><code>[a-z]</code> :表示小写字母</p>
<p><code>[A-Z]</code> :表示大写字母</p>
<p>在列举的前面加上 ^即可表示 非,比如  </p>
<p><code>[^0-9]</code> :表示非数字  </p>
<p>简写的的形式比如 <code>\d</code>,如果要取反,则小写改大写(熟悉 Vim 的人一定亲切),如:<br><code>\D</code>:表示非数字</p>
<p><code>\w</code> 表示单词字符,在英语环境下,等价于 <code>[_a-zA-Z0-9]</code>,就是常说的:字母数字下划线  </p>
<p>同理,把它大写,就是取反  </p>
<p><code>\W</code> 表示非单词字符,除掉字母数字下划线的内容</p>
<h4 id="匹配空白字符">匹配空白字符</h4><p>\s:表示空白字符( space),它和 [ \t\n\r]等价(分别是 空格 制表符 换行符 回车符)<br>注:有些匹配工具不会高亮换行符号和回车符号<br>那么很自然的想到<br><code>\S</code> 匹配非空白字符,和<code>[ \t\n\r]</code>等价,当然,也可以 <code>[^\s]</code></p>
<h4 id="匹配任何字符">匹配任何字符</h4><p>使用 .可以匹配任何字符,一个点只能匹配一个</p>
<h4 id="使用量词">使用量词</h4><p>在最开始的时候,我们已经使用了量词的符号 {},用法也已经解释过了.比如:</p>
<p><code>.{8}</code> 匹配8个任意字符<br>但是在实际应用中,我们有三个特殊的量词是大量使用的:<br><code>?</code> :表示出现0次或者1次</p>
<p><code>*</code> :表示出现0次或者多次</p>
<p><code>+</code> :表示出现1次或者多次<br>结语</p>
<p>这次是一个比较枯燥的符号认知的过程.好在,常用的符号我们已经学习完毕,从下篇开始,我们做大量的练习,并学习更高级的知识</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

<!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="page/6/index.html" data-title="undefined" data-url="undefined"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"guiqingblog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-03-07T03:30:26.000Z"><a href="/2015/03/07/辅助编程技能/从开一个手机号码开始/">2015-03-07</a></time>
      
      
  
    <h1 class="title"><a href="/2015/03/07/辅助编程技能/从开一个手机号码开始/">从开一个手机号码开始-正则表达式</a></h1>
  

    </header>
    <div class="entry">
      
        <p>正则表达式是描述一组字符串特征的模式,用来匹配特定的字符串.<br>—Ken Thompson</p>
<p>虽然有点抽象,但是我觉得大家已经模模糊糊的明白了.<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2015/03/07/辅助编程技能/从开一个手机号码开始/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

<!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="page/6/index.html" data-title="undefined" data-url="undefined"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"guiqingblog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-02-28T01:32:47.000Z"><a href="/2015/02/28/辅助编程技能/使用-Homebrew-管理你的mac开发包/">2015-02-28</a></time>
      
      
  
    <h1 class="title"><a href="/2015/02/28/辅助编程技能/使用-Homebrew-管理你的mac开发包/">使用 Homebrew 管理你的mac开发包</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="context">context</h2><p>很多人可能不了解 Homebrew, 其实它相当于开发软件界的 Appstore.</p>
<p>比如,如果我要安装 python 的最新版本,那么传统的做法是</p>
<ol>
<li>到官方网站下载 python 的最新版本 </li>
<li>极其麻烦和小心翼翼的删除自带的 python 版本 </li>
<li>安装新的版本 </li>
<li>设置环境变量</li>
</ol>
<p>而借助 <code>Homebrew</code>, 需要做的仅仅是:<br><code>brew uninstall python</code><br>然后<br><code>brew install python</code></p>
<p>整个过程只是等待而已,不需要百度 <code>python</code> 的官方网址,不需要找卸载安装配置环境变量教程…</p>
<h2 id="安装_Homebrew">安装 Homebrew</h2><p>更多的好处就会在你以后的使用中被发掘.<br>下面我们进行 Homebrew 的安装.</p>
<p>打开终端,输入以下命令:<br><code>ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</code></p>
<p>注意:</p>
<ul>
<li><p>因网络的原因,可能会不成功,请多尝试几次,一直到成功安装.</p>
</li>
<li><p>中间会出现一个 Press RETURN to continue or any other key to abort,请及时回车,并输入密码,不要傻等着…</p>
</li>
<li><p>不要加 sudo, 加了也没关系,待会会提示你 Don’t run as root</p>
</li>
<li><p>如果出现了某个包导致的安装失败,你仅需要按照提示进行操作即可</p>
</li>
</ul>
<p>当看到下面的内容时 ,证明已经安装成功了.</p>
<p><img src="http://ww4.sinaimg.cn/large/9e446dffjw1essytoxlv1j20ka0dhtf0.jpg"></p>
<p>注: 本文来自本人早期在 csdn 上撰写的文章,内容为原创</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

<!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="page/6/index.html" data-title="undefined" data-url="undefined"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"guiqingblog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-01-15T04:21:05.000Z"><a href="/2015/01/15/iOS Tips/用枚举表示状态、选项、状态码/">2015-01-15</a></time>
      
      
  
    <h1 class="title"><a href="/2015/01/15/iOS Tips/用枚举表示状态、选项、状态码/">高效OC编程-用枚举表示状态、选项、状态码 </a></h1>
  

    </header>
    <div class="entry">
      
        <p>由于Objective-C 基于C 语言，所以C 语言有的功能它都有。其中之一就是枚举类型：</p>
<p>enum 系统框架中频繁用到此类型，然而开发者容易忽视它。在以一系列常量来表示错误状态码或可组合的选项时，极宜使用枚举为其命名。由于C++11 标准扩充了枚举的特性所以最新版系统框架使用了“强类型”（strong type）的枚举。没错，Objective-C 也能得益于<br>C++11 标准。<br>枚举只是一种常量命名方式。某个对象所经历的各种状态就可以定义为一个简单的枚举集（enumeration set）。比如说，可以用下列枚举表示“套接字连接”（socket connection）的状态:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">enum EOCConnectionState &#123;&#10;EOCConnectionStateDisconnected,  &#10;&#10;EOCConnectionStateConnecting,  &#10;&#10;EOCConnectionStateConnected,  &#10;&#10;&#125;;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2015/01/15/iOS Tips/用枚举表示状态、选项、状态码/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

<!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="page/6/index.html" data-title="undefined" data-url="undefined"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"guiqingblog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-11-10T09:53:41.000Z"><a href="/2014/11/10/重构、模式、架构/ iOS平台(移动平台)架构问题 /">2014-11-10</a></time>
      
      
  
    <h1 class="title"><a href="/2014/11/10/重构、模式、架构/ iOS平台(移动平台)架构问题 /"> iOS平台(移动平台)架构问题 </a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="尴尬的遭遇">尴尬的遭遇</h2><p>自己从内心觉得对项目分层是一种非常好的思想,于是便在网络中寻找有关iOS项目分层的资料. 无奈,网络中关于iOS的项目架构资料非常少(最后证明我大方向走错了了,架构应该是独立于平台的,所以”iOS”的架构资料是找不到的),就算有几篇博文,也是自己琢磨出来的野路子.(个人思想比较保守,不够权威的东西不能让我信服,而事实上,每个人都能看到那些博文是有过度设计的问题的)</p>
<p>后来尝试在 code4app群里讨论这个问题,结果群里几个发言活跃的群友对这个架构问题”免讨论”</p>
<p>然后在 “跟MJ完虐iOS3.0”这个群中,更是遭到了红果果的嘲笑:MVC就够了,还分什么层?</p>
<p>并无刻意谈论群友,只是想拿事实举例:现在相当一部分开发者,对架构和分层这个东西认知不足.然后, 自己深知分层的好处,虽然有些灰心,但不至于放弃.最终,发现了Martin Fowler写的 &lt;&lt;企业应用架构模式&gt;&gt;一书,顿觉豁然开朗.</p>
<h2 id="对于移动设备来说,分层是否有必要?">对于移动设备来说,分层是否有必要?</h2><p>我最早是做java的,接触到的项目比较大,会有架构设计. 那么转到移动,就会考虑,移动是否也真的需要架构设计</p>
<p>只要是软件,就会有需求的变更,那么分层就显得非常有必要了. 即,我们需要为自己的软件留一条”后路”,解耦合,让其可扩展.<br>低耦合企业级系统架构涉及及移动平台的分层架构设计</p>
<p>从大方面来讲,架构是必要的,关键是怎么去执行.</p>
<p>一个系统,采用什么样子的结构,有哪些组件,组件之间什么关系,和环境之间有什么关系,这都是设计架构(或者分层)需要考虑的问题.</p>
<p>目的都是为了建立低耦合的企业级应用系统,低耦合的系统的好处是细化开发较色,提高开发效率,提高扩展性</p>
<p>需求是经常变化的,导致了系统不能满足需求变化的需求,因为是强耦合的,模块与模块之间,类和类之间.</p>
<p>低耦合的好处太多了</p>
<ul>
<li>可扩展性强</li>
<li>效率高</li>
<li>适应用户需求的变化</li>
</ul>
<p>这样我们系统维护工作就少,就是比较灵活<br>什么是企业级系统</p>
<p>这个问题在我的架构的基本概念和演化-博客园(或者csdn的架构的概念和最基本的三层架构-iOS企业应用架构设计 )一文中讨论过,但是这里还是有必要再提一下:</p>
<p>系统比较庞大,涉及到前端,后台(数据库,中间件,实际的设备)</p>
<p>现在的 java .net 都是可以构建企业级系统的.<br>设计的注意点</p>
<p>设计一定要考虑的非常周到,这样就存在一个文件,需要降低耦合度.分层,每层里面合理的运用设计模式 这就是:架构设计和设计模式</p>
<p>每层之间的东西必须是具有类似功能的类和子系统的集合.</p>
<p>可以分四层,五层,甚至一层,二层. 每种分法必须要有自己的道理.</p>
<p>比如你的房子,要开个窗户,结果就塌了,就这说明是不合理的设计</p>
<blockquote>
<p>此文中很多想法和灵感源自关东升老师的一节视频,视频在 51cto可以搜索到,但是付费的,本人只是学习了免费的第一节的内容,便觉得受益匪浅,更是在尝试寻求老师分层不合理性的时候,发现了Martin的&lt;&lt;企业应用架构设计&gt;&gt;一书,开始了更远的探究.在此感谢老师. —-我</p>
</blockquote>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

<!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="page/6/index.html" data-title="undefined" data-url="undefined"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"guiqingblog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->



  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-11-06T09:43:41.000Z"><a href="/2014/11/06/重构、模式、架构/架构的概念和最基本的三层架构/">2014-11-06</a></time>
      
      
  
    <h1 class="title"><a href="/2014/11/06/重构、模式、架构/架构的概念和最基本的三层架构/">架构的概念和最基本的三层架构</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="架构">架构</h2><p>Martin Fowler 给”架构”这个词做了两点归纳:</p>
<ol>
<li>最高层次的系统分解 </li>
<li>系统中不易改变的决定</li>
</ol>
<p>它包括了一些开发者希望能够及早做出的决定,因为这些决定看起来是难以改变的. 如果发现一些决定并不像你想象的那么难以改变,那么他就不再与架构相关.这么下去,架构自然就浓缩成了一些重要的东西.</p>
<p>在架构模式中,层次是最为重要的,Martin Fowler的&lt;&lt;企业应用架构模式&gt;&gt;全书都在阐释怎么将企业应用组织成不同的层次,还有这些层次如何协同工作.<br>架构和模式<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2014/11/06/重构、模式、架构/架构的概念和最基本的三层架构/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

<!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="page/6/index.html" data-title="undefined" data-url="undefined"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"guiqingblog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->




<nav id="pagination">
  
    <a href="/page/5/" class="alignleft prev">上一页</a>
  
  
    <a href="/page/7/" class="alignright next">下一页</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/Core-Aniamtion深入探讨/">Core Aniamtion深入探讨</a><small>15</small></li>
  
    <li><a href="/categories/ReactiveCocoa/">ReactiveCocoa</a><small>1</small></li>
  
    <li><a href="/categories/Swift进阶/">Swift进阶</a><small>3</small></li>
  
    <li><a href="/categories/iOS-Tips/">iOS Tips</a><small>13</small></li>
  
    <li><a href="/categories/主页维护记录/">主页维护记录</a><small>4</small></li>
  
    <li><a href="/categories/利用Runtime实现自依赖按钮/">利用Runtime实现自依赖按钮</a><small>1</small></li>
  
    <li><a href="/categories/开发环境相关/">开发环境相关</a><small>3</small></li>
  
    <li><a href="/categories/悟/">悟</a><small>1</small></li>
  
    <li><a href="/categories/知识技巧总结/">知识技巧总结</a><small>1</small></li>
  
    <li><a href="/categories/辅助编程技能/">辅助编程技能</a><small>7</small></li>
  
    <li><a href="/categories/重构、模式、架构/">重构、模式、架构</a><small>9</small></li>
  
    <li><a href="/categories/高效OC编程/">高效OC编程</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/Core-Aniamtion深入探讨/">Core Aniamtion深入探讨</a><small>15</small></li>
  
    <li><a href="/tags/ReactiveCocoa/">ReactiveCocoa</a><small>1</small></li>
  
    <li><a href="/tags/Swift-进阶/">Swift 进阶</a><small>1</small></li>
  
    <li><a href="/tags/Swift进阶/">Swift进阶</a><small>1</small></li>
  
    <li><a href="/tags/iOS-Tips/">iOS Tips</a><small>2</small></li>
  
    <li><a href="/tags/主页维护记录/">主页维护记录</a><small>2</small></li>
  
    <li><a href="/tags/利用Runtime实现自依赖按钮/">利用Runtime实现自依赖按钮</a><small>1</small></li>
  
    <li><a href="/tags/小脚本大智慧/">小脚本大智慧</a><small>1</small></li>
  
    <li><a href="/tags/开发环境相关/">开发环境相关</a><small>1</small></li>
  
    <li><a href="/tags/悟/">悟</a><small>1</small></li>
  
    <li><a href="/tags/正则表达式/">正则表达式</a><small>2</small></li>
  
    <li><a href="/tags/测试小样/">测试小样</a><small>1</small></li>
  
    <li><a href="/tags/设计模式/">设计模式</a><small>1</small></li>
  
    <li><a href="/tags/辅助编程技能/">辅助编程技能</a><small>2</small></li>
  
    <li><a href="/tags/重构、模式、架构/">重构、模式、架构</a><small>4</small></li>
  
    <li><a href="/tags/问题解决和思考/">问题解决和思考</a><small>5</small></li>
  
    <li><a href="/tags/高效OC编程/">高效OC编程</a><small>4</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 桂庆
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>